# ğŸ® Panda3D èµ›è½¦æ¸¸æˆ

ä¸€ä¸ªåŸºäº Panda3D çš„è½»é‡èµ›è½¦é¡¹ç›®ï¼ŒåŒ…å«ï¼šè½¦è¾†ç‰©ç†ç³»ç»Ÿã€å¯è§†åŒ–ä¸»å¾ªç¯ã€åœ°å½¢ç”Ÿæˆè„šæœ¬ã€æ¸¸æˆæ§åˆ¶å°ã€‚

## ğŸ“š æ–‡æ¡£çº¦å®š

- `README.md`ï¼šçœŸæºæ–‡æ¡£ï¼ˆä»¥æ­¤ä¸ºå‡†ï¼‰
- `CONSOLE.md`ï¼šæ¸¸æˆæ§åˆ¶å°ä½¿ç”¨æŒ‡å—
- `PROJECT_STRUCTURE.md`ï¼šé¡¹ç›®ç»“æ„è¯¦è§£
- `requirement_design.md`ï¼šéœ€æ±‚ä¸è®¾è®¡æ¦‚è¦
- `tools.md`ï¼šå·¥å…·æ¥å£ä¸è°ƒç”¨æ–¹æ³•

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ–¹å¼ä¸€ï¼šç›´æ¥å¯åŠ¨æ¸¸æˆ

```bash
python3 -m venv .venv
source .venv/bin/activate
python -m pip install -r requirements.txt
python main.py
```

### æ–¹å¼äºŒï¼šä½¿ç”¨æ¸¸æˆæ§åˆ¶å°ï¼ˆæ¨èï¼‰

```bash
# å®‰è£…æ§åˆ¶å°ä¾èµ–
pip install dearpygui

# å¯åŠ¨æ§åˆ¶å°
python console.py

# æˆ–ä½¿ç”¨å¯åŠ¨è„šæœ¬
./start_console.sh
```

## ğŸ¯ åŠŸèƒ½ç‰¹æ€§

### æ¸¸æˆæ§åˆ¶å° âœ¨ NEW

æ§åˆ¶å°æä¾›å¯è§†åŒ–ç•Œé¢ï¼Œæ”¯æŒï¼š

- **ğŸš€ æ¸¸æˆå¯åŠ¨**
  - å¤šè½¦è¾†é…ç½®é€‰æ‹©ï¼ˆè·‘è½¦/å¡è½¦/è¶Šé‡è½¦ï¼‰
  - åœ°å½¢é…ç½®é€‰æ‹©
  - æ¸¸æˆè®¾ç½®ï¼ˆå…¨å±/è°ƒè¯•æ¨¡å¼ï¼‰
  - å®æ—¶çŠ¶æ€ç›‘æ§

- **ğŸ› ï¸ åœ°å½¢ç”Ÿæˆ**
  - å¯è§†åŒ–å‚æ•°é…ç½®
  - è½¨é“èµ°å»Šåˆ·å¹³
  - å®æ—¶è¿›åº¦æ˜¾ç¤º
  - æ—¥å¿—è¾“å‡º

- **âš™ï¸ é…ç½®ç®¡ç†**
  - è½¦è¾†é…ç½®ä¿å­˜/åŠ è½½
  - åœ°å½¢é…ç½®ç®¡ç†
  - é¢„è®¾é…ç½®æ”¯æŒ

### è½¦è¾†ç³»ç»Ÿ

- å®Œæ•´çš„è½¦è¾†ç‰©ç†æ¨¡æ‹Ÿ
- æ‚¬æŒ‚ç³»ç»Ÿ
- è½®èƒåŠ›å­¦
- ä¼ åŠ¨ç³»ç»Ÿ
- å¤šè½¦å‹æ”¯æŒ

### åœ°å½¢ç³»ç»Ÿ

- ç¨‹åºåŒ–åœ°å½¢ç”Ÿæˆ
- é«˜åº¦å›¾è¾“å‡º
- è½¨é“èµ°å»Šåˆ·å¹³
- å¤šæè´¨æ··åˆ

## ğŸ® æ§åˆ¶æ–¹å¼

| æŒ‰é”® | åŠŸèƒ½ |
|-----|------|
| W / â†‘ | æ²¹é—¨ |
| S / â†“ | åˆ¹è½¦ |
| A / â† | å·¦è½¬ |
| D / â†’ | å³è½¬ |
| Space | æ‰‹åˆ¹ |
| ESC | é€€å‡º |
| C | åˆ‡æ¢ç›¸æœºæ¨¡å¼ |

## ğŸ› ï¸ å·¥å…·ä½¿ç”¨

### åœ°å½¢ç”Ÿæˆï¼ˆå‘½ä»¤è¡Œï¼‰

```bash
# åŸºæœ¬åœ°å½¢
python scripts/generate_terrain.py \
  --width 1024 \
  --height 1024 \
  --name race_base_flat

# å¸¦èµ›é“èµ°å»Š
python scripts/generate_terrain.py \
  --name race_track_flat \
  --track-csv scripts/track_example.csv \
  --corridor-width-px 120 \
  --edge-falloff-px 50 \
  --track-flatten-strength 0.95
```

### åœ°å½¢ç”Ÿæˆï¼ˆæ§åˆ¶å°ï¼‰

```bash
python console.py
# é€‰æ‹© "ğŸ› ï¸ åœ°å½¢ç”Ÿæˆ" æ¨¡å—
```

è¾“å‡ºç›®å½•ï¼š`res/terrain/`ï¼ˆ`*.pgm`, `*.npy`, `*.json`ï¼‰

## ğŸ“ é¡¹ç›®ç»“æ„

```
vehiclegame/
â”œâ”€â”€ ğŸ“„ console.py              # æ¸¸æˆæ§åˆ¶å°å…¥å£
â”œâ”€â”€ ğŸ“„ console_app.py          # æ§åˆ¶å°ä¸»åº”ç”¨
â”œâ”€â”€ ğŸ“„ main.py                 # æ¸¸æˆä¸»å…¥å£
â”‚
â”œâ”€â”€ ğŸ“ console_modules/        # æ§åˆ¶å°æ¨¡å—
â”‚   â”œâ”€â”€ game_launcher.py       # ğŸš€ æ¸¸æˆå¯åŠ¨ï¼ˆå¤šè½¦è¾†æ”¯æŒï¼‰
â”‚   â””â”€â”€ terrain_generator.py   # ğŸ› ï¸ åœ°å½¢ç”Ÿæˆ
â”‚
â”œâ”€â”€ ğŸ“ core/                   # æ ¸å¿ƒç»„ä»¶
â”‚   â”œâ”€â”€ config_manager.py      # é…ç½®ç®¡ç†
â”‚   â””â”€â”€ process_manager.py     # è¿›ç¨‹ç®¡ç†
â”‚
â”œâ”€â”€ ğŸ“ configs/                # é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ vehicles/
â”‚   â”‚   â”œâ”€â”€ sports_car.json    # è·‘è½¦ (1500kg)
â”‚   â”‚   â”œâ”€â”€ truck.json         # å¡è½¦ (3500kg)
â”‚   â”‚   â””â”€â”€ offroad.json       # è¶Šé‡è½¦ (2200kg)
â”‚   â””â”€â”€ terrain/
â”‚
â”œâ”€â”€ ğŸ“ src/                    # æ¸¸æˆä¸šåŠ¡ä»£ç 
â”‚   â”œâ”€â”€ business/
â”‚   â”œâ”€â”€ systems/
â”‚   â””â”€â”€ world/
â”‚
â”œâ”€â”€ ğŸ“ scripts/                # å·¥å…·è„šæœ¬
â”‚   â””â”€â”€ generate_terrain.py
â”‚
â””â”€â”€ ğŸ“ res/                    # èµ„æºæ–‡ä»¶
    â””â”€â”€ terrain/
```

è¯¦ç»†ç»“æ„è§ï¼š[`PROJECT_STRUCTURE.md`](PROJECT_STRUCTURE.md)

## ğŸš— è½¦è¾†é…ç½®

### é¢„è®¾è½¦è¾†

| è½¦å‹ | è´¨é‡ | æœ€é«˜é€Ÿåº¦ | åŠ é€Ÿ | ç‰¹æ€§ |
|-----|------|---------|------|------|
| **Sports Car** | 1500kg | 200km/h | 80 | æ“æ§æ€§å¥½ï¼ŒåŠ é€Ÿå¿« |
| **Truck** | 3500kg | 120km/h | 30 | è´¨é‡å¤§ï¼ŒåŠ é€Ÿæ…¢ï¼Œç¨³å®š |
| **Off-Road** | 2200kg | 160km/h | 50 | è¶Šé‡æ€§èƒ½å¥½ï¼Œé€šè¿‡æ€§å¼º |

### è‡ªå®šä¹‰è½¦è¾†

1. å¤åˆ¶é…ç½®ï¼š
```bash
cp configs/vehicles/sports_car.json configs/vehicles/my_car.json
```

2. ç¼–è¾‘å‚æ•°ï¼š
```json
{
  "name": "My Car",
  "vehicle_mass": 1800.0,
  "physics": {
    "max_speed": 180.0,
    "acceleration": 70.0
  }
}
```

3. åœ¨æ§åˆ¶å°ä¸­é€‰æ‹©å¯åŠ¨

## ğŸ“¦ ä¾èµ–

### æ ¸å¿ƒä¾èµ–
```txt
panda3d          # æ¸¸æˆå¼•æ“
numpy            # æ•°å€¼è®¡ç®—
scipy            # ç§‘å­¦è®¡ç®—
opensimplex      # å™ªå£°ç”Ÿæˆ
noise            # å™ªå£°ç”Ÿæˆ
```

### æ§åˆ¶å°ä¾èµ–ï¼ˆå¯é€‰ï¼‰
```txt
dearpygui        # GUI æ¡†æ¶
```

### å®‰è£…
```bash
# å®Œæ•´å®‰è£…
pip install -r requirements.txt

# ä»…æ¸¸æˆ
pip install panda3d numpy scipy opensimplex noise

# ä»…æ§åˆ¶å°
pip install dearpygui
```

## âœ… æµ‹è¯•

### ç»„ä»¶æµ‹è¯•
```bash
python test_console.py
```

### æ¸¸æˆæµ‹è¯•
```bash
python examples/test_complete.py
```

## ğŸ“– æ–‡æ¡£

| æ–‡æ¡£ | è¯´æ˜ |
|-----|------|
| [`CONSOLE.md`](CONSOLE.md) | æ§åˆ¶å°ä½¿ç”¨æŒ‡å— |
| [`PROJECT_STRUCTURE.md`](PROJECT_STRUCTURE.md) | é¡¹ç›®ç»“æ„è¯¦è§£ |
| [`docs/`](docs/) | æŠ€æœ¯æ–‡æ¡£ç›®å½• |

## ğŸ”§ å¼€å‘

### æ·»åŠ æ–°æ¨¡å—

1. åˆ›å»º `console_modules/my_module.py`
2. ç»§æ‰¿ `ConsoleModule` åŸºç±»
3. ä½¿ç”¨ `@ModuleRegistry.register` è£…é¥°å™¨
4. åœ¨ `console_app.py` ä¸­å¯¼å…¥

è¯¦è§ï¼š[`CONSOLE.md`](CONSOLE.md#æ‰©å±•å¼€å‘)

### ä»£ç é£æ ¼

- éµå¾ª PEP 8
- ç±»å‹æ³¨è§£
- æ–‡æ¡£å­—ç¬¦ä¸²

## âš ï¸ æ•…éšœæ’é™¤

### DearPyGui å¯åŠ¨å¤±è´¥
```bash
pip install --upgrade dearpygui
```

### æ¸¸æˆæ— æ³•å¯åŠ¨
```bash
# æ£€æŸ¥ Panda3D
python -c "import panda3d"

# æŸ¥çœ‹æ—¥å¿—
cat game.log
```

### åœ°å½¢ç”Ÿæˆå¤±è´¥
```bash
# æ£€æŸ¥ scipy
python -c "import scipy"

# æ£€æŸ¥è¾“å‡ºç›®å½•
ls -la res/terrain/
```

## ğŸ“ æ›´æ–°æ—¥å¿—

### v0.1.0 (2025-02-25)
- âœ¨ æ–°å¢æ¸¸æˆæ§åˆ¶å°
- ğŸš€ æ”¯æŒå¤šè½¦è¾†é…ç½®ï¼ˆ3 ç§é¢„è®¾ï¼‰
- ğŸ› ï¸ å¯è§†åŒ–åœ°å½¢ç”Ÿæˆå·¥å…·
- âš™ï¸ é…ç½®ç®¡ç†ç³»ç»Ÿ
- ğŸ“Š ç»Ÿä¸€ç•Œé¢æ“ä½œ

## ğŸ“„ è®¸å¯è¯

MIT License
